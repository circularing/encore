--- a/v2/parser/apis/directive/directive.go
+++ b/v2/parser/apis/directive/directive.go
@@   // Directive represents a parsed "encore:" directive.
 type Directive struct { /* … */ }

+// DirectiveParser is a callback signature for handling a Directive on a FuncDecl.
+type DirectiveParser func(d *Directive, decl *ast.FuncDecl) error
+
+// pluginParsers holds user‐registered parsers.
+var pluginParsers = map[string]DirectiveParser{}

 func init() {
     // nothing to change here for built‐ins…
 }
@@
 // Parse parses the encore:foo directives in cg.
 // It returns the parsed directives, if any, and the
 // remaining doc text after stripping the directive lines.
 func Parse(errs *perr.List, cg *ast.CommentGroup) (dir *Directive, doc string, ok bool) {
     // … existing code that finds exactly one built‐in directive in cg …
 
     // Suppose at this point we have `dir` and the original FuncDecl `decl`.
-    return dirs[0], doc, true
+    // Now, if the user has registered a plugin handler for this directive name, invoke it.
+    if parser, found := pluginParsers[dir.Name]; found {
+        // you’ll need to obtain the FuncDecl here – in the real parser you have access
+        // to it; let’s assume it’s passed in as a parameter to Parse:
+        if err := parser(dirs[0], decl); err != nil {
+            errs.Add(perr.Wrap(err))
+            return nil, "", false
+        }
+    }
+    return dirs[0], doc, true
 }
